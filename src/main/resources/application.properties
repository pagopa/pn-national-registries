logging.config=classpath:logback-base.xml
spring.application.name = pn-national-registries
spring.main.web-application-type=REACTIVE

aws.region=eu-south-1
server.port=8080


# Fix null object in serialization
spring.jackson.default-property-inclusion = NON_NULL

#EnvironmentType
pn.national.registries.environment.type = ${PN_NATIONAL_REGISTRY_ENVIRONMENT_TYPE}

pn.national.registries.issuer = .notifichedigitali.it

# variabile di controllo per il parametro pn-national-registries-cx-id
pn.national.registries.val.cx.id.enabled = ${PN_NATIONAL_REGISTRY_VAL_CX_ID_ENABLED}

# Validazione certificati SSL (default: true)
pn.national.registries.webclient.ssl-cert-ver = ${PN_NATIONAL_REGISTRY_SSL_CERT_VER:true}

# PDND
pn.national.registries.pdnd.base-path = ${PN_NATIONAL_REGISTRY_PDND_BASE_URL}
pn.national.registries.webclient.pdnd.tcp-max-poolsize = 16
pn.national.registries.webclient.pdnd.tcp-max-queued-connections = 32
pn.national.registries.webclient.pdnd.tcp-pending-acquired-timeout = 45000
pn.national.registries.webclient.pdnd.tcp-pool-idle-timeout = 30000
pn.national-registries.pdnd.client-assertion-type = urn:ietf:params:oauth:client-assertion-type:jwt-bearer
pn.national-registries.pdnd.grant-type = client_credentials
pn.national-registries.pdnd.token.deadline = 120000

# ANPR
pn.national.registries.anpr.base-path = ${PN_NATIONAL_REGISTRY_ANPR_BASE_URL}
pn.national.registries.pdnd.anpr.purpose-id = ${PN_NATIONAL_REGISTRY_ANPR_PURPOSE_ID}
pn.national.registries.pdnd.anpr.secret = ${PN_NATIONAL_REGISTRY_ANPR_PDND_CLIENT_SECRET}
pn.national.registries.trust.anpr.secret = ${PN_NATIONAL_REGISTRY_ANPR_TRUST_SECRET}
pn.national.registries.webclient.anpr.tcp-max-poolsize = 16
pn.national.registries.webclient.anpr.tcp-max-queued-connections = 32
pn.national.registries.webclient.anpr.tcp-pending-acquired-timeout = 45000
pn.national.registries.webclient.anpr.tcp-pool-idle-timeout = 30000
pn.national.registries.anpr.table = pn-counter

# AdE Legal
pn.national.registries.ade-legal.base-path = ${PN_NATIONAL_REGISTRY_ADE_LEGAL_BASE_URL}
pn.national.registries.ade.auth = ${PN_NATIONAL_REGISTRY_ADE_AUTH:TEST}
pn.national.registries.ade.legal.name.id = ${PN_NATIONAL_REGISTRY_ADE_LEGAL_NAME_ID:TEST}
pn.national.registries.ade.legal.trust.secret = ${PN_NATIONAL_REGISTRY_ADE_LEGAL_TRUST_SECRET:TEST}
pn.national.registries.webclient.ade-legal.tcp-max-poolsize = 16
pn.national.registries.webclient.ade-legal.tcp-max-queued-connections = 32
pn.national.registries.webclient.ade-legal.tcp-pending-acquired-timeout = 45000
pn.national.registries.webclient.ade-legal.tcp-pool-idle-timeout = 30000

# AdE CheckCF
pn.national.registries.ade-check-cf.base-path = ${PN_NATIONAL_REGISTRY_ADE_CHECK_CF_BASE_URL}
pn.national.registries.ssm.ade-check-cf.auth-channel = ${PN_NATIONAL_REGISTRY_ADE_CHECK_CF_AUTH}
pn.national.registries.pdnd.ade-check-cf.purpose-id = ${PN_NATIONAL_REGISTRY_ADE_CHECK_CF_PURPOSE_ID}
pn.national.registries.pdnd.ade-check-cf.secret = ${PN_NATIONAL_REGISTRY_ADE_CHECK_CF_PDND_CLIENT_SECRET}
pn.national.registries.trust.ade-check-cf.secret = ${PN_NATIONAL_REGISTRY_ADE_CHECK_CF_TRUST_SECRET}
pn.national.registries.webclient.ade-check-cf.tcp-max-poolsize = 16
pn.national.registries.webclient.ade-check-cf.tcp-max-queued-connections = 32
pn.national.registries.webclient.ade-check-cf.tcp-pending-acquired-timeout = 45000
pn.national.registries.webclient.ade-check-cf.tcp-pool-idle-timeout = 30000

# INAD
pn.national.registries.inad.base-path = ${PN_NATIONAL_REGISTRY_INAD_BASE_URL}
pn.national.registries.pdnd.inad.purpose-id = ${PN_NATIONAL_REGISTRY_INAD_PURPOSE_ID}
pn.national.registries.pdnd.inad.secret = ${PN_NATIONAL_REGISTRY_INAD_PDND_CLIENT_SECRET}
pn.national.registries.webclient.inad.tcp-max-poolsize = 16
pn.national.registries.webclient.inad.tcp-max-queued-connections = 32
pn.national.registries.webclient.inad.tcp-pending-acquired-timeout = 45000
pn.national.registries.webclient.inad.tcp-pool-idle-timeout = 30000

# InfoCamere
pn.national.registries.infocamere.base-path = ${PN_NATIONAL_REGISTRY_INFOCAMERE_BASE_URL}
pn.national.registries.infocamere.client-id = ${PN_NATIONAL_REGISTRY_INFOCAMERE_CLIENT_ID}
pn.national.registries.ssm.infocamere.auth-rest = ${PN_NATIONAL_REGISTRY_INFOCAMERE_AUTH}
pn.national.registries.infocamere.token.deadline = 120000
pn.national.registries.inipec.ttl = ${PN_NATIONAL_REGISTRY_INIPEC_TTL:#{1209600}}
pn.national.registries.inipec.batch.request.delay = ${PN_NATIONAL_REGISTRY_INIPEC_BATCH_REQUEST_DELAY:${PN_NATIONAL_REGISTRY_INIPEC_BATCH_DELAY:30000}}
pn.national-registries.inipec.batch.request.recovery.delay = ${PN_NATIONAL_REGISTRY_INIPEC_BATCH_REQUEST_RECOVERY_DELAY:${PN_NATIONAL_REGISTRY_INIPEC_BATCH_DELAY:30000}}
pn.national-registries.inipec.batch.request.recovery.after = ${PN_NATIONAL_REGISTRY_INIPEC_BATCH_REQUEST_RECOVERY_AFTER:3600}
pn.national-registries.inipec.batch.request.max-retry = ${PN_NATIONAL_REGISTRY_INIPEC_BATCH_REQUEST_MAX_RETRY:${PN_NATIONAL_REGISTRY_INIPEC_BATCH_MAX_RETRY:3}}
pn.national-registries.inipec.batch.polling.delay = ${PN_NATIONAL_REGISTRY_INIPEC_BATCH_POLLING_DELAY:${PN_NATIONAL_REGISTRY_INIPEC_BATCH_DELAY:30000}}
pn.national-registries.inipec.batch.polling.recovery.delay = ${PN_NATIONAL_REGISTRY_INIPEC_BATCH_POLLING_RECOVERY_DELAY:${PN_NATIONAL_REGISTRY_INIPEC_BATCH_DELAY:30000}}
pn.national-registries.inipec.batch.polling.recovery.after = ${PN_NATIONAL_REGISTRY_INIPEC_BATCH_POLLING_RECOVERY_AFTER:3600}
pn.national-registries.inipec.batch.polling.max-retry = ${PN_NATIONAL_REGISTRY_INIPEC_BATCH_POLLING_MAX_RETRY:${PN_NATIONAL_REGISTRY_INIPEC_BATCH_MAX_RETRY:3}}
pn.national-registries.inipec.batch.polling.inprogress.max-retry = ${PN_NATIONAL_REGISTRY_INIPEC_BATCH_POLLING_INPROGRESS_MAX_RETRY:24}}
pn.national-registries.inipec.batch.sqs.recovery.delay = ${PN_NATIONAL_REGISTRY_INIPEC_BATCH_SQS_RECOVERY_DELAY:${PN_NATIONAL_REGISTRY_INIPEC_BATCH_DELAY:30000}}
pn.national.registries.webclient.infocamere.tcp-max-poolsize = 16
pn.national.registries.webclient.infocamere.tcp-max-queued-connections = 32
pn.national.registries.webclient.infocamere.tcp-pending-acquired-timeout = 45000
pn.national.registries.webclient.infocamere.tcp-pool-idle-timeout = 30000
pn.national.registries.sqs.queue.name = ${PN_NATIONAL_REGISTRY_OUTPUT_QUEUE_NAME}

# IPA
pn.national.registries.ipa.base-path = ${PN_NATIONAL_REGISTRY_IPA_BASE_URL}
pn.national.registries.ipa.secret = ${PN_NATIONAL_REGISTRY_IPA_SECRET}
pn.national.registries.webclient.ipa.tcp-max-poolsize = 16
pn.national.registries.webclient.ipa.tcp-max-queued-connections = 32
pn.national.registries.webclient.ipa.tcp-pending-acquired-timeout = 45000
pn.national.registries.webclient.ipa.tcp-pool-idle-timeout = 30000